{% extends "page_base.jinja" %}

{% block title %}
Trail Rankings
{% endblock title %}

{% block pagehead %}
<link href="/rankings.css" rel="stylesheet" />
{% endblock pagehead %}

{% block content %}
<section id="content">
    <h1>Trail Rankings</h1>

    <ul class="ranking-sort">
        {% if region == "usa" %}
        <li><a class="active">USA</a></li>
        <li><a href="/trail-rankings?region=northeast">Northeast</a>
        </li>
        <li><a href="/trail-rankings?region=southeast">Southeast</a>
        </li>
        <li><a href="/trail-rankings?region=midwest">Midwest</a>
        </li>
        <li><a href="/trail-rankings?region=west">West</a>
        </li>
        {% endif %}
        {% if region == "northeast" %}
        <li><a href="/trail-rankings?region=usa">USA</a>
        </li>
        <li><a class="active">Northeast</a></li>
        <li><a href="/trail-rankings?region=southeast">Southeast</a>
        </li>
        <li><a href="/trail-rankings?region=midwest">Midwest</a>
        </li>
        <li><a href="/trail-rankings?region=west">West</a>
        </li>
        {% endif %}
        {% if region == "southeast" %}
        <li><a href="/trail-rankings?region=usa">USA</a>
        </li>
        <li><a href="/trail-rankings?region=northeast">Northeast</a>
        </li>
        <li><a class="active">Southeast</a></li>
        <li><a href="/trail-rankings?region=midwest">Midwest</a>
        </li>
        <li><a href="/trail-rankings?region=west">West</a>
        </li>
        {% endif %}
        {% if region == "midwest" %}
        <li><a href="/trail-rankings?region=usa">USA</a>
        </li>
        <li><a href="/trail-rankings?region=northeast">Northeast</a>
        </li>
        <li><a href="/trail-rankings?region=southeast">Southeast</a>
        </li>
        <li><a class="active">Midwest</a></li>
        <li><a href="/trail-rankings?region=west">West</a>
        </li>
        {% endif %}
        {% if region == "west" %}
        <li><a href="/trail-rankings?region=usa">USA</a>
        </li>
        <li><a href="/trail-rankings?region=northeast">Northeast</a>
        </li>
        <li><a href="/trail-rankings?region=southeast">Southeast</a>
        </li>
        <li><a href="/trail-rankings?region=midwest">Midwest</a>
        </li>
        <li><a class="active">West</a></li>
        {% endif %}
    </ul>

    <p class="detail">
        The trails are ordered by their steepest 30 meter pitch. In order to qualify as an 'Extreme'
        trail, a run must be over 45° for 30 meters.
    </p>

    <div class="legend">
        <ul>
            <li><span class="icon difficulty-green"></span>Beginner</li>
            <li><span class="icon difficulty-blue"></span>Intermediate</li>
            <li><span class="icon difficulty-black"></span>Advanced</li>
            <li><span class="icon difficulty-red"></span>Expert</li>
            <li><span class="icon difficulty-yellow"></span>Extreme</li>
        </ul>
    </div>

    <div>
        <table>
            <tr>
                <th>Trail Name</th>
                <th>Resort</th>
                <th>State</th>
                <th>30m Pitch</th>
                <th>50m Pitch</th>
                <th>100m Pitch</th>
                <th>200m Pitch</th>
                <th>500m Pitch</th>
                <th>1000m Pitch</th>
            </tr>
            {% for trail in trails %}
            {% if not '' == trail.name %}
            <tr>
                <td>
                    <p>{{pages.offset + loop.index}}. <a
                            href="/map/{{trail.state}}/{{trail.resort_name}}">{{trail.name}}</a></p>
                </td>
                <td><a href="/map/{{trail.state}}/{{trail.resort_name}}">{{trail.resort_name}}</a></td>
                <td>{{trail.state}}</td>
                <td>
                    {% if trail.steepest_30m < 16 %} <span class="icon difficulty-green"></span>
                        {% else %}
                        {% if trail.steepest_30m < 24 %} <span class="icon difficulty-blue"></span>
                            {% else %}
                            {% if trail.steepest_30m < 32 %} <span class="icon difficulty-black"></span>
                                {% else %}
                                {% if trail.steepest_30m < 45 %} <span class="icon difficulty-red"></span>
                                    {% else %}
                                    <span class="icon difficulty-yellow"></span>
                                    {% endif %}
                                    {% endif %}
                                    {% endif %}
                                    {% endif %}
                                    {{trail.steepest_30m}}°
                </td>
                <td>
                    {% if trail.steepest_50m != None %}
                    {% if trail.steepest_50m < 16 %} <span class="icon difficulty-green"></span>
                        {% else %}
                        {% if trail.steepest_50m < 24 %} <span class="icon difficulty-blue"></span>
                            {% else %}
                            {% if trail.steepest_50m < 32 %} <span class="icon difficulty-black"></span>
                                {% else %}
                                {% if trail.steepest_50m < 45 %} <span class="icon difficulty-red"></span>
                                    {% else %}
                                    <span class="icon difficulty-yellow"></span>
                                    {% endif %}
                                    {% endif %}
                                    {% endif %}
                                    {% endif %}
                                    {{trail.steepest_50m}}°
                                    {% else %}
                                    --
                                    {% endif %}
                </td>
                <td>
                    {% if trail.steepest_100m != None %}
                    {% if trail.steepest_100m < 16 %} <span class="icon difficulty-green"></span>
                        {% else %}
                        {% if trail.steepest_100m < 24 %} <span class="icon difficulty-blue"></span>
                            {% else %}
                            {% if trail.steepest_100m < 32 %} <span class="icon difficulty-black"></span>
                                {% else %}
                                {% if trail.steepest_100m < 45 %} <span class="icon difficulty-red"></span>
                                    {% else %}
                                    <span class="icon difficulty-yellow"></span>
                                    {% endif %}
                                    {% endif %}
                                    {% endif %}
                                    {% endif %}
                                    {{trail.steepest_100m}}°
                                    {% else %}
                                    --
                                    {% endif %}
                </td>
                <td>
                    {% if trail.steepest_200m != None %}
                    {% if trail.steepest_200m < 16 %} <span class="icon difficulty-green"></span>
                        {% else %}
                        {% if trail.steepest_200m < 24 %} <span class="icon difficulty-blue"></span>
                            {% else %}
                            {% if trail.steepest_200m < 32 %} <span class="icon difficulty-black"></span>
                                {% else %}
                                {% if trail.steepest_200m < 45 %} <span class="icon difficulty-red"></span>
                                    {% else %}
                                    <span class="icon difficulty-yellow"></span>
                                    {% endif %}
                                    {% endif %}
                                    {% endif %}
                                    {% endif %}
                                    {{trail.steepest_200m}}°
                                    {% else %}
                                    --
                                    {% endif %}
                </td>
                <td>
                    {% if trail.steepest_500m != None %}
                    {% if trail.steepest_500m < 16 %} <span class="icon difficulty-green"></span>
                        {% else %}
                        {% if trail.steepest_500m < 24 %} <span class="icon difficulty-blue"></span>
                            {% else %}
                            {% if trail.steepest_500m < 32 %} <span class="icon difficulty-black"></span>
                                {% else %}
                                {% if trail.steepest_500m < 45 %} <span class="icon difficulty-red"></span>
                                    {% else %}
                                    <span class="icon difficulty-yellow"></span>
                                    {% endif %}
                                    {% endif %}
                                    {% endif %}
                                    {% endif %}
                                    {{trail.steepest_500m}}°
                                    {% else %}
                                    --
                                    {% endif %}
                </td>
                <td>
                    {% if trail.steepest_1000m != None %}
                    {% if trail.steepest_1000m < 16 %} <span class="icon difficulty-green"></span>
                        {% else %}
                        {% if trail.steepest_1000m < 24 %} <span class="icon difficulty-blue"></span>
                            {% else %}
                            {% if trail.steepest_1000m < 32 %} <span class="icon difficulty-black"></span>
                                {% else %}
                                {% if trail.steepest_1000m < 45 %} <span class="icon difficulty-red"></span>
                                    {% else %}
                                    <span class="icon difficulty-yellow"></span>
                                    {% endif %}
                                    {% endif %}
                                    {% endif %}
                                    {% endif %}
                                    {{trail.steepest_1000m}}°
                                    {% else %}
                                    --
                                    {% endif %}
                </td>
            </tr>
            {% endif %}
            {% endfor %}

        </table>
    </div>

    <div class="links">
        {% if 'prev' in pages %}
        <a href="{{pages.prev}}">← Previous Page</a>
        {% endif %}
        <span style="flex-grow: 1"></span>
        {% if 'next' in pages %}
        <a href="{{pages.next}}">Next Page →</a>
        {% endif %}
    </div>
</section>
{% endblock content %}